!function(t){function e(s){if(n[s])return n[s].exports;var i=n[s]={"exports":{},"id":s,"loaded":!1};return t[s].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){t.exports=n(1)},function(t,e,n){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}s(n(2)),new(s(n(3)).default)({"input":$("#inputText"),"tips":$("#inputTips"),"messBox":$(".messBox"),"messNode":'<div class="messone"><div>',"amessHeight":30})},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{"value":!0}),e.default={"getRamdomColor":function(){for(var t="#",e=0;e<6;e++)t+=Math.floor(16*Math.random()).toString(16);return t}}},function(t,e,n){"use strict";function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{"value":!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var s=e[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,n,s){return n&&t(e.prototype,n),s&&t(e,s),e}}(),o=function(t){return t&&t.__esModule?t:{"default":t}}(n(2)),a={"TEXT":1e5,"LINK":2e5,"NEWS":302e3},r=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s(this,t),this.input=e.input,this.tips=e.tips,this.messBox=e.messBox,this.messNode=e.messNode,this.amessHeight=e.amessHeight,this.query="",this.data="",this.welcome(),this.setName(),this.bindEvent()}return i(t,[{"key":"bindEvent","value":function(){var t=this;this.input.focus(function(e){window.document.onkeypress=function(e){13==((e=e||window.event).whick||e.keyCode)&&t.render()}})}},{"key":"render","value":function(){if(this.onceset())return this.addQuery(),this.addToBox(this.creatDOM("",this.name+" 请吩咐！")),void console.log("return?");this.addQuery(),this.getData()}},{"key":"welcome","value":function(){var t=this;"我是菠萝油王子".split("").forEach(function(e){t.addToBox(t.creatDOM("","------"+e+"-----"))})}},{"key":"setName","value":function(){this.addToBox(this.creatDOM("","请输入你的名字"))}},{"key":"onceset","value":function(){return this.name=this.input.val(),this.onceset=function(){return!1},!0}},{"key":"addQuery","value":function(){this.query=this.input.val(),this.input.val(""),this.addToBox(this.creatDOM(this.tips.text(),this.query))}},{"key":"creatDOM","value":function(t,e){var n=$("<span>"+t+e+"</span>");n.css("color",o.default.getRamdomColor());var s=$(this.messNode);return s.append(n),s}},{"key":"addToBox","value":function(t){this.setBoxStyle(t),this.messBox.append(t)}},{"key":"setBoxStyle","value":function(t){var e=this;this.messBox.children().each(function(t,n){var s=(n=$(n)).css("bottom"),i=parseInt(s.substring(0,s.length-2));i+e.amessHeight>$(document).height()-"50"&&n.remove(),n.css("bottom",i+e.amessHeight+"px")}),t.css("bottom","50px")}},{"key":"getData","value":function(){var t=this,e=this,n={"key":"919c296a12994612a4ddac7b47dba958","info":this.query,"loc":"嘉兴市","userid":this.name};$.ajax({"type":"POST","url":"http://www.tuling123.com/openapi/api","data":n,"success":function(n){t.addToBox(t.creatDOM("",e.getDataStr(n)))},"dataType":"json"})}},{"key":"getDataStr","value":function(t){switch(t.code){case a.TEXT:return t.text;case a.LINK:return t.text+" : "+t.url;case a.NEWS:var e="";return(t.list||[]).forEach(function(t){e+="\n文章: "+t.article+"\n来源: "+t.source+"\n链接: "+t.detailurl}),t.text+"\n"+e;default:return t.text}}}]),t}();e.default=r}]);